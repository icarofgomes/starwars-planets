(this["webpackJsonpstarwars-planets"]=this["webpackJsonpstarwars-planets"]||[]).push([[0],{26:function(e,t,c){},37:function(e,t,c){},38:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c(19),r=c.n(a),s=(c(26),c(4)),i=Object(n.createContext)(),l=c(0),o=["name","climate","created","diameter","edited","films","gravity","orbital_period","population","rotation_period","surface_water","terrain","url"];var u=function(){var e=Object(n.useContext)(i),t=e.data,c=e.filter,a=Object(n.useState)([]),r=Object(s.a)(a,2),u=r[0],j=r[1];Object(n.useEffect)((function(){var e=function(e,t){var c=t.filterByName,n=t.filterByNumerics,a=t.order,r=e.filter((function(e){return e.name.includes(c)}));n.forEach((function(e){var t=e.column,c=e.comparison,n=e.value;r=r.filter((function(e){switch(c){case"maior que":return parseInt(e[t],10)>n;case"menor que":return parseInt(e[t],10)<n;case"igual a":return e[t]===n;default:return""}}))}));var s=function(e,t){var c=a.column,n="name"===c?e[c]:parseInt(e[c],10),r="name"===c?t[c]:parseInt(t[c],10);return n<r?-1:n>r?1:0};return r=r.sort((function(e,t){return"ASC"===a.sort?s(e,t):s(t,e)}))}(t,c);j(e)}),[t,c]);var d=function(e){return o.map((function(t,c){switch(t){case"name":return Object(l.jsx)("td",{className:"w-1/2 mx-auto font-bold text-lg text-yellow-600","data-testid":"planet-name",children:e[t]},c);case"films":return Object(l.jsx)("td",{className:"w-1/2 mx-auto",children:e[t].map((function(e,t){return Object(l.jsx)("div",{children:Object(l.jsx)(k,{film:e})},t)}))},c);default:return Object(l.jsx)("td",{className:"w-1/2 mx-auto",children:e[t]},c)}}))};return Object(l.jsx)("div",{className:"",children:Object(l.jsxs)("table",{className:"table-auto text-xs text-center",children:[Object(l.jsx)("thead",{className:"hidden",children:Object(l.jsx)("tr",{children:o.map((function(e,t){return Object(l.jsx)("th",{children:e},t)}))})}),Object(l.jsx)("tbody",{children:u.map((function(e,t){return Object(l.jsx)("tr",{className:t%2===0?"bg-gray-200":"bg-yellow-100",children:Object(l.jsx)("div",{className:"flex flex-col w-screen",children:d(e)})},e.name)}))})]})})},j=c(11),d=c(7),b=c(3),m=["name","population","orbital_period","diameter","rotation_period","surface_water"];var f=function(){var e=Object(n.useContext)(i).submitOrder,t=Object(n.useState)({column:"name",sort:""}),c=Object(s.a)(t,2),a=c[0],r=c[1],o=function(e){var t=e.target,c=t.value,n=t.name;r(Object(b.a)(Object(b.a)({},a),{},Object(d.a)({},n,c)))};return Object(l.jsxs)("div",{className:"p-2 flex flex-col",children:[Object(l.jsxs)("div",{className:"flex justify-between p-1",children:[Object(l.jsx)("div",{children:"Categoria"}),Object(l.jsx)("label",{htmlFor:"select-options",children:Object(l.jsx)("select",{className:"text-black",name:"column",id:"select-options",onChange:o,"data-testid":"column-sort",children:m.map((function(e,t){return Object(l.jsx)("option",{children:e},t)}))})})]}),Object(l.jsxs)("div",{className:"flex justify-around",children:[Object(l.jsxs)("label",{className:"text-lg",htmlFor:"asc-opt",children:[Object(l.jsx)("input",{className:"appearance-none mx-2 w-4 h-4 border border-gray-300 rounded-sm outline-none cursor-pointer checked:bg-yellow-200",type:"radio",id:"asc-opt",value:"ASC",name:"sort",onChange:o,"data-testid":"column-sort-input-asc"}),"Crescente"]}),Object(l.jsxs)("label",{className:"text-lg",htmlFor:"desc-opt",children:[Object(l.jsx)("input",{className:"appearance-none w-4 h-4 mx-2 border border-gray-300 rounded-sm outline-none cursor-pointer checked:bg-yellow-200",type:"radio",id:"desc-opt",value:"DESC",name:"sort",onChange:o,"data-testid":"column-sort-input-desc"}),"Descrescente"]})]}),Object(l.jsx)("button",{className:"p-1 bg-yellow-400 text-black font-medium rounded-sm hover:bg-yellow-100","data-testid":"column-sort-button",type:"button",onClick:function(){return e(a)},children:"Ordenar"})]})},x=["population","orbital_period","diameter","rotation_period","surface_water"],O=["maior que","menor que","igual a"];var p=function(){var e=Object(n.useContext)(i),t=e.handleChange,c=e.handleClick,a=e.filter,r=e.deleteClick,o=Object(n.useState)({column:"population",comparison:"maior que",value:""}),u=Object(s.a)(o,2),m=u[0],p=u[1],h=Object(n.useState)(x),v=Object(s.a)(h,2),N=v[0],y=v[1];Object(n.useEffect)((function(){var e=a.filterByNumerics;if(!e)return y(x);if(e.length>0){var t=e.map((function(e){return e.column}));return y(x.filter((function(e){return!t.includes(e)})))}}),[a]);var g=function(e){var t=e.target,c=t.name,n=t.value;p(Object(b.a)(Object(b.a)({},m),{},Object(d.a)({},c,n)))};return Object(l.jsxs)("form",{children:[Object(l.jsx)("div",{className:"flex justify-center p-2",children:Object(l.jsx)("label",{htmlFor:"input-name",children:Object(l.jsx)("input",{className:"rounded-sm text-black",id:"input-name","data-testid":"name-filter",onChange:t,placeholder:"Nome"})})}),Object(l.jsx)("hr",{}),Object(l.jsxs)("div",{className:"p-2 flex flex-col",children:[Object(l.jsxs)("div",{className:"flex justify-between p-1",children:[Object(l.jsx)("div",{children:"Categoria"}),Object(l.jsx)("div",{className:"w-32",children:Object(l.jsx)("label",{htmlFor:"column-filter",children:Object(l.jsx)("select",{className:"text-black w-full bg-gray-200 rounded-sm",id:"column-filter",name:"column","data-testid":"column-filter",onChange:g,children:N.map((function(e,t){return Object(l.jsx)("option",{children:e},t)}))})})})]}),Object(l.jsxs)("div",{className:"flex justify-between p-1",children:[Object(l.jsx)("div",{children:"Compara\xe7\xe3o"}),Object(l.jsx)("div",{className:"w-32",children:Object(l.jsx)("label",{htmlFor:"comparison-filter",children:Object(l.jsx)("select",{className:"text-black w-full bg-gray-200 rounded-sm",id:"comparison-filter",name:"comparison","data-testid":"comparison-filter",onChange:g,children:O.map((function(e,t){return Object(l.jsx)("option",{children:e},t)}))})})})]}),Object(l.jsxs)("div",{className:"flex justify-between p-1",children:[Object(l.jsx)("div",{children:"Valor"}),Object(l.jsx)("div",{className:"w-32",children:Object(l.jsx)("label",{className:"flex justify-end text-black",htmlFor:"value-filter",children:Object(l.jsx)("input",{className:"w-full h-5 bg-gray-200 rounded-sm",type:"number",name:"value",id:"value-filter","data-testid":"value-filter",onChange:g})})})]}),Object(l.jsx)("button",{className:"p-1 bg-yellow-400 text-black font-medium rounded-sm hover:bg-yellow-100",type:"button","data-testid":"button-filter",onClick:function(){return c(m)},children:"Adicionar Filtro"})]}),Object(l.jsx)("hr",{}),Object(l.jsx)(f,{}),Object(l.jsx)("div",{children:N.length<5?Object(l.jsx)("div",{children:a.filterByNumerics.map((function(e,t){var c=e.column,n=e.comparison,a=e.value;return Object(l.jsxs)("div",{"data-testid":"filter",children:["".concat(c," ").concat(n," ").concat(a),Object(l.jsx)("button",{type:"button",onClick:function(){return function(e){y([].concat(Object(j.a)(N),[e])),r(e)}(c)},children:"X"})]},t)}))}):""})]})},h=c(2);var v=function(){var e=Object(n.useState)(!0),t=Object(s.a)(e,2),c=t[0],a=t[1];return Object(n.useEffect)((function(){setTimeout((function(){return a(!1)}),5e4)}),[]),c?Object(l.jsxs)("div",{className:"intro",children:[Object(l.jsx)("div",{className:"fade"}),Object(l.jsx)("section",{className:"content",children:Object(l.jsxs)("div",{className:"crawl",children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("p",{className:"sub-title",children:"Projeto Trybe"}),Object(l.jsx)("h1",{className:"title",children:"Star Wars Planets Search"})]}),Object(l.jsxs)("div",{className:"text-content",children:[Object(l.jsx)("p",{children:"H\xe1 muito tempo atr\xe1s, em uma gal\xe1xia distante..."}),Object(l.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Distinctio exercitationem quis corrupti, commodi eius ut, quia reiciendis quisquam accusantium aliquam animi omnis eaque. Aspernatur itaque iure non vero unde harum."}),Object(l.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Distinctio optio architecto culpa molestiae officiis. Necessitatibus error doloribus voluptates doloremque iusto quaerat nostrum sed rerum, neque tempora veritatis provident impedit? Excepturi!"}),Object(l.jsx)("p",{children:"Que a for\xe7a esteja com voc\xea!"})]})]})})]}):Object(l.jsx)(h.a,{to:"/starwars-planets/main"})};var N=function(){return Object(l.jsxs)("div",{className:"flex flex-col",children:[Object(l.jsx)(S,{}),Object(l.jsx)(u,{})]})};var y=function(){return Object(l.jsxs)(h.d,{children:[Object(l.jsx)(h.b,{exact:!0,path:"/starwars-planets",component:v}),Object(l.jsx)(h.b,{path:"/starwars-planets/main",component:N})]})},g=c(8),w=c.n(g),C=c(13);var k=function(e){var t=e.film,c=Object(n.useState)(""),a=Object(s.a)(c,2),r=a[0],i=a[1],o=function(){var e=Object(C.a)(w.a.mark((function e(){var c,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return c=e.sent,e.next=5,c.json();case 5:n=e.sent,i(n.title);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){o()})),Object(l.jsx)("div",{children:r})};var S=function(){return Object(l.jsxs)("div",{className:"bg-black text-yellow-300 font-medium",children:[Object(l.jsx)("h1",{className:"text-center text-xl p-2",children:"Star Wars Planets Search"}),Object(l.jsx)(p,{})]})};var q=function(){return Object(l.jsx)("div",{children:Object(l.jsx)(y,{})})};c(37);var B=function(e){var t=e.children,c=Object(n.useState)([]),a=Object(s.a)(c,2),r=a[0],o=a[1],u=Object(n.useState)({filterByName:"",filterByNumerics:[],order:{column:"name",sort:"ASC"}}),d=Object(s.a)(u,2),m=d[0],f=d[1];Object(n.useEffect)((function(){var e="https://swapi-trybe.herokuapp.com/api/planets/";function t(){return(t=Object(C.a)(w.a.mark((function t(){var c,n,a;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:return c=t.sent,t.next=5,c.json();case 5:n=t.sent,a=n.results,o(a);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]);var x={data:r,filter:m,handleChange:function(e){var t=e.target;f(Object(b.a)(Object(b.a)({},m),{},{filterByName:t.value}))},handleClick:function(e){f(Object(b.a)(Object(b.a)({},m),{},{filterByNumerics:[].concat(Object(j.a)(m.filterByNumerics),[e])}))},deleteClick:function(e){f(Object(b.a)(Object(b.a)({},m),{},{filterByNumerics:Object(j.a)(m.filterByNumerics.filter((function(t){return t.column!==e})))}))},submitOrder:function(e){f(Object(b.a)(Object(b.a)({},m),{},{order:e}))}};return Object(l.jsx)(i.Provider,{value:x,children:t})},E=c(16);r.a.render(Object(l.jsx)(B,{children:Object(l.jsx)(E.a,{children:Object(l.jsx)(q,{})})}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.1a12db87.chunk.js.map