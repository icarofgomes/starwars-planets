(this["webpackJsonpstarwars-planets"]=this["webpackJsonpstarwars-planets"]||[]).push([[0],{26:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a(19),r=a.n(n),s=(a(26),a(4)),l=Object(c.createContext)(),i=a(0),o=["name","films","climate","diameter","gravity","orbital_period","population","rotation_period","surface_water","terrain"];var d=function(){var e=Object(c.useContext)(l),t=e.data,a=e.filter,n=Object(c.useState)([]),r=Object(s.a)(n,2),d=r[0],u=r[1];Object(c.useEffect)((function(){var e=function(e,t){var a=t.filterByName,c=t.filterByNumerics,n=t.order,r=e.filter((function(e){return e.name.includes(a)}));c.forEach((function(e){var t=e.column,a=e.comparison,c=e.value;r=r.filter((function(e){switch(a){case"maior que":return parseInt(e[t],10)>c;case"menor que":return parseInt(e[t],10)<c;case"igual a":return e[t]===c;default:return""}}))}));var s=function(e,t){var a=n.column,c="name"===a?e[a]:parseInt(e[a],10),r="name"===a?t[a]:parseInt(t[a],10);return c<r?-1:c>r?1:0};return r=r.sort((function(e,t){return"ASC"===n.sort?s(e,t):s(t,e)}))}(t,a);u(e)}),[t,a]);var j=function(e){return o.map((function(t,a){switch(t){case"name":return Object(i.jsx)("td",{className:"w-1/2 mx-auto font-bold text-xl text-yellow-600 p-2 md:text-xs md:my-auto md:p-1 md:w-1/12","data-testid":"planet-name",children:e[t]},a);case"films":return Object(i.jsxs)("td",{className:"flex flex-col mx-auto w-1/2 border-1 border-black border-solid shadow-md mb-1 md:shadow-none md:w-1/12 md:table-cell",children:[Object(i.jsx)("div",{className:"font-bold text-yellow-600 text-base md:hidden",children:"Films"}),Object(i.jsx)("div",{className:"md:flex md:flex-col",children:e[t].map((function(e,t){return Object(i.jsx)("div",{children:Object(i.jsx)(k,{film:e})},t)}))})]},a);default:return Object(i.jsxs)("td",{className:"w-2/3 mx-auto flex justify-between md:table-cell md:w-32",children:[Object(i.jsx)("div",{className:"font-bold md:hidden",children:"".concat(t,":")}),Object(i.jsx)("div",{className:"",children:e[t]})]},a)}}))};return Object(i.jsxs)("table",{className:"table-auto text-xs text-center",children:[Object(i.jsx)("thead",{className:"hidden md:table-header-group md:bg-yellow-400 md:h-12",children:Object(i.jsx)("tr",{className:"justify-around font-bold text-lg",children:o.map((function(e,t){return Object(i.jsx)("td",{children:e},t)}))})}),Object(i.jsx)("tbody",{className:"",children:d.map((function(e,t){return Object(i.jsx)("tr",{className:"".concat(t%2===0?"bg-gray-200":"bg-yellow-100"," flex flex-col\n                md:table-row"),children:j(e)},e.name)}))})]})},u=a(11),j=a(7),b=a(3),m=["name","population","orbital_period","diameter","rotation_period","surface_water"];var f=function(){var e=Object(c.useContext)(l).submitOrder,t=Object(c.useState)({column:"name",sort:""}),a=Object(s.a)(t,2),n=a[0],r=a[1],o=function(e){var t=e.target,a=t.value,c=t.name;r(Object(b.a)(Object(b.a)({},n),{},Object(j.a)({},c,a)))};return Object(i.jsxs)("div",{className:"p-2 flex flex-col",children:[Object(i.jsxs)("div",{className:"flex justify-between p-1",children:[Object(i.jsx)("div",{children:"Categoria"}),Object(i.jsx)("label",{htmlFor:"select-options",children:Object(i.jsx)("select",{className:"text-black",name:"column",id:"select-options",onChange:o,"data-testid":"column-sort",children:m.map((function(e,t){return Object(i.jsx)("option",{children:e},t)}))})})]}),Object(i.jsxs)("div",{className:"flex justify-around",children:[Object(i.jsxs)("label",{className:"text-lg",htmlFor:"asc-opt",children:[Object(i.jsx)("input",{className:"appearance-none mx-2 w-4 h-4 border border-gray-300 rounded-sm outline-none cursor-pointer checked:bg-yellow-200",type:"radio",id:"asc-opt",value:"ASC",name:"sort",onChange:o,"data-testid":"column-sort-input-asc"}),"Crescente"]}),Object(i.jsxs)("label",{className:"text-lg",htmlFor:"desc-opt",children:[Object(i.jsx)("input",{className:"appearance-none w-4 h-4 mx-2 border border-gray-300 rounded-sm outline-none cursor-pointer checked:bg-yellow-200",type:"radio",id:"desc-opt",value:"DESC",name:"sort",onChange:o,"data-testid":"column-sort-input-desc"}),"Descrescente"]})]}),Object(i.jsx)("button",{className:"p-1 bg-yellow-400 text-black font-medium rounded-sm hover:bg-yellow-100","data-testid":"column-sort-button",type:"button",onClick:function(){return e(n)},children:"Ordenar"})]})},x=["population","orbital_period","diameter","rotation_period","surface_water"],h=["maior que","menor que","igual a"];var p=function(){var e=Object(c.useContext)(l),t=e.handleChange,a=e.handleClick,n=e.filter,r=e.deleteClick,o=Object(c.useState)({column:"population",comparison:"maior que",value:""}),d=Object(s.a)(o,2),m=d[0],p=d[1],O=Object(c.useState)(x),v=Object(s.a)(O,2),w=v[0],N=v[1];Object(c.useEffect)((function(){var e=n.filterByNumerics;if(!e)return N(x);if(e.length>0){var t=e.map((function(e){return e.column}));return N(x.filter((function(e){return!t.includes(e)})))}}),[n]),Object(c.useEffect)((function(){p({column:w[0],comparison:"maior que",value:""})}),[w]);var y=function(e){var t=e.target,a=t.name,c=t.value;p(Object(b.a)(Object(b.a)({},m),{},Object(j.a)({},a,c)))};return Object(i.jsxs)("form",{children:[Object(i.jsx)("div",{className:"flex justify-center p-2",children:Object(i.jsx)("label",{htmlFor:"input-name",children:Object(i.jsx)("input",{className:"rounded-sm text-black",id:"input-name","data-testid":"name-filter",onChange:t,placeholder:"Nome"})})}),Object(i.jsx)("hr",{}),Object(i.jsxs)("div",{className:"p-2 flex flex-col",children:[Object(i.jsxs)("div",{className:"flex justify-between p-1",children:[Object(i.jsx)("div",{children:"Categoria"}),Object(i.jsx)("div",{className:"w-32",children:Object(i.jsx)("label",{htmlFor:"column-filter",children:Object(i.jsx)("select",{className:"text-black w-full bg-gray-200 rounded-sm",id:"column-filter",name:"column","data-testid":"column-filter",value:m.column,onChange:y,children:w.map((function(e,t){return Object(i.jsx)("option",{children:e},t)}))})})})]}),Object(i.jsxs)("div",{className:"flex justify-between p-1",children:[Object(i.jsx)("div",{children:"Compara\xe7\xe3o"}),Object(i.jsx)("div",{className:"w-32",children:Object(i.jsx)("label",{htmlFor:"comparison-filter",children:Object(i.jsx)("select",{className:"text-black w-full bg-gray-200 rounded-sm",id:"comparison-filter",name:"comparison","data-testid":"comparison-filter",value:m.comparison,onChange:y,children:h.map((function(e,t){return Object(i.jsx)("option",{children:e},t)}))})})})]}),Object(i.jsxs)("div",{className:"flex justify-between p-1",children:[Object(i.jsx)("div",{children:"Valor"}),Object(i.jsx)("div",{className:"w-32",children:Object(i.jsx)("label",{className:"flex justify-end text-black",htmlFor:"value-filter",children:Object(i.jsx)("input",{className:"w-full h-5 bg-gray-200 rounded-sm",type:"number",name:"value",id:"value-filter","data-testid":"value-filter",value:m.value,onChange:y})})})]}),Object(i.jsx)("button",{className:"p-1 bg-yellow-400 text-black font-medium rounded-sm hover:bg-yellow-100",type:"button","data-testid":"button-filter",onClick:function(){return a(m)},children:"Adicionar Filtro"})]}),Object(i.jsx)("hr",{}),Object(i.jsx)(f,{}),Object(i.jsx)("div",{children:w.length<5?Object(i.jsxs)("div",{className:"p-1",children:[Object(i.jsx)("hr",{}),Object(i.jsx)("div",{children:"Filtros:"}),Object(i.jsx)("div",{className:"flex",children:n.filterByNumerics.map((function(e,t){var a=e.column,c=e.comparison,n=e.value;return Object(i.jsxs)("div",{className:"flex items-center","data-testid":"filter",children:["".concat(a," ").concat(c," ").concat(n),Object(i.jsx)("button",{className:"mx-2 bg-yellow-400 text-black h-5 w-5 flex items-center justify-center font-bold rounded",type:"button",onClick:function(){return function(e){N([].concat(Object(u.a)(w),[e])),r(e)}(a)},children:"X"})]},t)}))})]}):""})]})},O=a(2);var v=function(){var e=Object(c.useState)(!0),t=Object(s.a)(e,2),a=t[0],n=t[1];return Object(c.useEffect)((function(){setTimeout((function(){return n(!1)}),window.screen.width>680?5e4:6e4)}),[]),a?Object(i.jsxs)("div",{className:"intro",children:[Object(i.jsx)(B,{handleClick:function(){n(!1)}}),Object(i.jsx)("div",{className:"fade"}),Object(i.jsx)("section",{className:"content",children:Object(i.jsxs)("div",{className:"crawl",children:[Object(i.jsxs)("div",{children:[Object(i.jsx)("p",{className:"sub-title",children:"Projeto Trybe"}),Object(i.jsx)("h1",{className:"title",children:"Star Wars Planets Search"})]}),Object(i.jsxs)("div",{className:"text-content",children:[Object(i.jsx)("p",{children:"H\xe1 muito tempo atr\xe1s, em uma gal\xe1xia distante..."}),Object(i.jsx)("p",{children:"Nesta aplica\xe7\xe3o \xe9 poss\xedvel consultar informa\xe7\xf5es sobre alguns planetas do universo de Star Wars, tamb\xe9m \xe9 poss\xedvel fazer buscas, aplicar filtros e reordenar a lista."}),Object(i.jsx)("p",{children:"Este projeto foi realizado utilizando React e tem como objetivo por em pr\xe1tica os recursos de hooks, componentes funcionais e a context API do React para gerenciamento do estado global."}),Object(i.jsx)("p",{children:"Este projeto foi realizado dentro do curso de Desenvolvimento Web da Trybe, e para isso foi consumida a SWAPI oferecida no pr\xf3prio reposit\xf3rio do projeto. Dessa forma foi poss\xedvel exercitar tamb\xe9m requisi\xe7\xf5es ass\xedncronas."}),Object(i.jsx)("p",{children:"Que a for\xe7a esteja com voc\xea!"})]})]})})]}):Object(i.jsx)(O.a,{to:"/starwars-planets/main"})};var w=function(){return Object(i.jsxs)("div",{className:"flex flex-col",children:[Object(i.jsx)(S,{}),Object(i.jsx)(d,{})]})};var N=function(){return Object(i.jsxs)(O.d,{children:[Object(i.jsx)(O.b,{exact:!0,path:"/starwars-planets",component:v}),Object(i.jsx)(O.b,{path:"/starwars-planets/main",component:w})]})},y=a(8),g=a.n(y),C=a(13);var k=function(e){var t=e.film,a=Object(c.useState)(""),n=Object(s.a)(a,2),r=n[0],l=n[1],o=function(){var e=Object(C.a)(g.a.mark((function e(){var a,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.next=5,a.json();case 5:c=e.sent,l(c.title);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){o()})),Object(i.jsx)("div",{children:r})};var S=function(){return Object(i.jsxs)("div",{className:"bg-black text-yellow-300 font-medium",children:[Object(i.jsx)("h1",{className:"text-center text-xl p-2",children:"Star Wars Planets Search"}),Object(i.jsx)(p,{})]})};var B=function(e){var t=e.handleClick;return Object(i.jsx)("button",{onClick:t,type:"button",className:"border-4 border-yellow-300 rounded-full p-1 fixed top-8 right-6 z-10 md:top-auto md:bottom-8 hover:border-white",children:Object(i.jsx)("svg",{class:"w-10 h-10 transition-all duration-200 md:w-14 md:h-14",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:Object(i.jsx)("path",{"fill-rule":"evenodd",d:"M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z","clip-rule":"evenodd"})})})};var E=function(){return Object(i.jsx)("div",{children:Object(i.jsx)(N,{})})};a(37);var F=function(e){var t=e.children,a=Object(c.useState)([]),n=Object(s.a)(a,2),r=n[0],o=n[1],d=Object(c.useState)({filterByName:"",filterByNumerics:[],order:{column:"name",sort:"ASC"}}),j=Object(s.a)(d,2),m=j[0],f=j[1];Object(c.useEffect)((function(){var e="https://swapi-trybe.herokuapp.com/api/planets/";function t(){return(t=Object(C.a)(g.a.mark((function t(){var a,c,n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:return a=t.sent,t.next=5,a.json();case 5:c=t.sent,n=c.results,o(n);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]);var x={data:r,filter:m,handleChange:function(e){var t=e.target;f(Object(b.a)(Object(b.a)({},m),{},{filterByName:t.value}))},handleClick:function(e){f(Object(b.a)(Object(b.a)({},m),{},{filterByNumerics:[].concat(Object(u.a)(m.filterByNumerics),[e])}))},deleteClick:function(e){f(Object(b.a)(Object(b.a)({},m),{},{filterByNumerics:Object(u.a)(m.filterByNumerics.filter((function(t){return t.column!==e})))}))},submitOrder:function(e){f(Object(b.a)(Object(b.a)({},m),{},{order:e}))}};return Object(i.jsx)(l.Provider,{value:x,children:t})},_=a(16);r.a.render(Object(i.jsx)(F,{children:Object(i.jsx)(_.a,{children:Object(i.jsx)(E,{})})}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.b8148eb9.chunk.js.map