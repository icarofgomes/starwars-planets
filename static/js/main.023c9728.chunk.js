(this["webpackJsonpstarwars-planets"]=this["webpackJsonpstarwars-planets"]||[]).push([[0],{16:function(e,t,n){},18:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n(10),i=n.n(c),a=(n(16),n(0));var s=function(){return Object(a.jsxs)("div",{className:"intro",children:[Object(a.jsx)("div",{class:"fade"}),Object(a.jsx)("section",{className:"content",children:Object(a.jsxs)("div",{className:"crawl",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{className:"sub-title",children:"Projeto Trybe"}),Object(a.jsx)("h1",{className:"title",children:"Star Wars Planets Search"})]}),Object(a.jsxs)("div",{className:"text-content",children:[Object(a.jsx)("p",{children:"H\xe1 muito tempo atr\xe1s, em uma gal\xe1xia distante..."}),Object(a.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Distinctio exercitationem quis corrupti, commodi eius ut, quia reiciendis quisquam accusantium aliquam animi omnis eaque. Aspernatur itaque iure non vero unde harum."}),Object(a.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Distinctio optio architecto culpa molestiae officiis. Necessitatibus error doloribus voluptates doloremque iusto quaerat nostrum sed rerum, neque tempora veritatis provident impedit? Excepturi!"}),Object(a.jsx)("p",{children:"Que a for\xe7a esteja com voc\xea!"})]})]})})]})},o=n(3),u=Object(r.createContext)(),l=["name","climate","created","diameter","edited","films","gravity","orbital_period","population","rotation_period","surface_water","terrain","url"];var j=function(){var e=Object(r.useContext)(u),t=e.data,n=e.filter,c=Object(r.useState)([]),i=Object(o.a)(c,2),s=i[0],j=i[1];return Object(r.useEffect)((function(){var e=function(e,t){var n=t.filterByName,r=t.filterByNumerics,c=t.order,i=e.filter((function(e){return e.name.includes(n)}));r.forEach((function(e){var t=e.column,n=e.comparison,r=e.value;i=i.filter((function(e){switch(n){case"maior que":return parseInt(e[t],10)>r;case"menor que":return parseInt(e[t],10)<r;case"igual a":return e[t]===r;default:return""}}))}));var a=function(e,t){var n=c.column,r="name"===n?e[n]:parseInt(e[n],10),i="name"===n?t[n]:parseInt(t[n],10);return r<i?-1:r>i?1:0};return i=i.sort((function(e,t){return"ASC"===c.sort?a(e,t):a(t,e)}))}(t,n);j(e)}),[t,n]),Object(a.jsx)("div",{children:Object(a.jsxs)("table",{children:[Object(a.jsx)("thead",{children:Object(a.jsx)("tr",{children:l.map((function(e,t){return Object(a.jsx)("th",{children:e},t)}))})}),Object(a.jsx)("tbody",{children:s.map((function(e){return Object(a.jsx)("tr",{children:l.map((function(t,n){return"name"===t?Object(a.jsx)("td",{"data-testid":"planet-name",children:e[t]},n):Object(a.jsx)("td",{children:e[t]},n)}))},e.name)}))})]})})},d=n(4),b=n(2),m=["name","population","orbital_period","diameter","rotation_period","surface_water"];var p=function(){var e=Object(r.useContext)(u).submitOrder,t=Object(r.useState)({column:"",sort:""}),n=Object(o.a)(t,2),c=n[0],i=n[1],s=function(e){var t=e.target,n=t.value,r=t.name;i(Object(b.a)(Object(b.a)({},c),{},Object(d.a)({},r,n)))};return Object(a.jsxs)("div",{children:[Object(a.jsxs)("label",{htmlFor:"select-options",children:["Ordenar:",Object(a.jsx)("select",{name:"column",id:"select-options",onChange:s,"data-testid":"column-sort",children:m.map((function(e,t){return Object(a.jsx)("option",{children:e},t)}))})]}),Object(a.jsxs)("label",{htmlFor:"asc-opt",children:["Crecente",Object(a.jsx)("input",{type:"radio",id:"asc-opt",value:"ASC",name:"sort",onChange:s,"data-testid":"column-sort-input-asc"})]}),Object(a.jsxs)("label",{htmlFor:"desc-opt",children:["Decrescente",Object(a.jsx)("input",{type:"radio",id:"desc-opt",value:"DESC",name:"sort",onChange:s,"data-testid":"column-sort-input-desc"})]}),Object(a.jsx)("button",{"data-testid":"column-sort-button",type:"button",onClick:function(){return e(c)},children:"Clique aqui!"})]})},O=["population","orbital_period","diameter","rotation_period","surface_water"],f=["","maior que","menor que","igual a"];var h=function(){var e=Object(r.useContext)(u),t=e.handleChange,n=e.handleClick,c=e.filter,i=e.deleteClick,s=Object(r.useState)({column:"",comparison:"",value:""}),l=Object(o.a)(s,2),j=l[0],m=l[1],h=Object(r.useState)(O),x=Object(o.a)(h,2),v=x[0],C=x[1];Object(r.useEffect)((function(){var e=c.filterByNumerics;if(!e)return C(O);if(e.length>0){var t=e.map((function(e){return e.column}));return C(O.filter((function(e){return!t.includes(e)})))}}),[c]);var y=function(e){var t=e.target,n=t.name,r=t.value;m(Object(b.a)(Object(b.a)({},j),{},Object(d.a)({},n,r)))};return Object(a.jsxs)("form",{children:[Object(a.jsxs)("label",{htmlFor:"input-name",children:["Nome:",Object(a.jsx)("input",{id:"input-name","data-testid":"name-filter",onChange:t})]}),Object(a.jsxs)("label",{htmlFor:"column-filter",children:["Filtro:",Object(a.jsx)("select",{id:"column-filter",name:"column","data-testid":"column-filter",onChange:y,children:v.map((function(e,t){return Object(a.jsx)("option",{children:e},t)}))})]}),Object(a.jsxs)("label",{htmlFor:"comparison-filter",children:["Compara\xe7\xe3o:",Object(a.jsx)("select",{id:"comparison-filter",name:"comparison","data-testid":"comparison-filter",onChange:y,children:f.map((function(e,t){return Object(a.jsx)("option",{children:e},t)}))})]}),Object(a.jsxs)("label",{htmlFor:"value-filter",children:["Valor:",Object(a.jsx)("input",{type:"number",name:"value",id:"value-filter","data-testid":"value-filter",onChange:y})]}),Object(a.jsx)("button",{type:"button","data-testid":"button-filter",onClick:function(){return n(j)},children:"Adicionar Filtro"}),Object(a.jsx)(p,{}),Object(a.jsx)("div",{children:v.length<5?Object(a.jsx)("div",{children:c.filterByNumerics.map((function(e,t){var n=e.column,r=e.comparison,c=e.value;return Object(a.jsxs)("div",{"data-testid":"filter",children:["".concat(n," ").concat(r," ").concat(c),Object(a.jsx)("button",{type:"button",onClick:function(){return i(n)},children:"X"})]},t)}))}):""})]})};var x=function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)(h,{}),Object(a.jsx)(j,{})]})};var v=function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)(s,{}),Object(a.jsx)(x,{})]})},C=(n(18),n(8)),y=n.n(C),g=n(11),N=n(9);var q=function(e){var t=e.children,n=Object(r.useState)([]),c=Object(o.a)(n,2),i=c[0],s=c[1],l=Object(r.useState)({filterByName:"",filterByNumerics:[],order:{column:"name",sort:"ASC"}}),j=Object(o.a)(l,2),d=j[0],m=j[1];Object(r.useEffect)((function(){var e="https://swapi-trybe.herokuapp.com/api/planets/";function t(){return(t=Object(g.a)(y.a.mark((function t(){var n,r;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:return n=t.sent,t.next=5,n.json();case 5:r=t.sent,s(r.results);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]);var p={data:i,filter:d,handleChange:function(e){var t=e.target;m(Object(b.a)(Object(b.a)({},d),{},{filterByName:t.value}))},handleClick:function(e){m(Object(b.a)(Object(b.a)({},d),{},{filterByNumerics:[].concat(Object(N.a)(d.filterByNumerics),[e])}))},deleteClick:function(e){m(Object(b.a)(Object(b.a)({},d),{},{filterByNumerics:Object(N.a)(d.filterByNumerics.filter((function(t){return t.column!==e})))}))},submitOrder:function(e){m(Object(b.a)(Object(b.a)({},d),{},{order:e}))}};return Object(a.jsx)(u.Provider,{value:p,children:t})};i.a.render(Object(a.jsx)(q,{children:Object(a.jsx)(v,{})}),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.023c9728.chunk.js.map