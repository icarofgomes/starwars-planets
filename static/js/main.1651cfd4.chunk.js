(this["webpackJsonpstarwars-planets"]=this["webpackJsonpstarwars-planets"]||[]).push([[0],{26:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n(19),a=n.n(c),i=(n(26),n(4)),s=Object(r.createContext)(),o=n(0),u=["name","climate","created","diameter","edited","films","gravity","orbital_period","population","rotation_period","surface_water","terrain","url"];var l=function(){var e=Object(r.useContext)(s),t=e.data,n=e.filter,c=Object(r.useState)([]),a=Object(i.a)(c,2),l=a[0],j=a[1];Object(r.useEffect)((function(){var e=function(e,t){var n=t.filterByName,r=t.filterByNumerics,c=t.order,a=e.filter((function(e){return e.name.includes(n)}));r.forEach((function(e){var t=e.column,n=e.comparison,r=e.value;a=a.filter((function(e){switch(n){case"maior que":return parseInt(e[t],10)>r;case"menor que":return parseInt(e[t],10)<r;case"igual a":return e[t]===r;default:return""}}))}));var i=function(e,t){var n=c.column,r="name"===n?e[n]:parseInt(e[n],10),a="name"===n?t[n]:parseInt(t[n],10);return r<a?-1:r>a?1:0};return a=a.sort((function(e,t){return"ASC"===c.sort?i(e,t):i(t,e)}))}(t,n);j(e)}),[t,n]);var d=function(e){return u.map((function(t,n){switch(t){case"name":return Object(o.jsx)("td",{"data-testid":"planet-name",children:e[t]},n);case"films":return Object(o.jsx)("td",{children:e[t].map((function(e,t){return Object(o.jsx)("div",{children:Object(o.jsx)(w,{film:e})},t)}))},n);default:return Object(o.jsx)("td",{children:e[t]},n)}}))};return Object(o.jsx)("div",{children:Object(o.jsxs)("table",{className:"table-auto text-xs text-center",children:[Object(o.jsx)("thead",{children:Object(o.jsx)("tr",{children:u.map((function(e,t){return Object(o.jsx)("th",{children:e},t)}))})}),Object(o.jsx)("tbody",{children:l.map((function(e){return Object(o.jsx)("tr",{children:d(e)},e.name)}))})]})})},j=n(7),d=n(3),b=["name","population","orbital_period","diameter","rotation_period","surface_water"];var m=function(){var e=Object(r.useContext)(s).submitOrder,t=Object(r.useState)({column:"",sort:""}),n=Object(i.a)(t,2),c=n[0],a=n[1],u=function(e){var t=e.target,n=t.value,r=t.name;a(Object(d.a)(Object(d.a)({},c),{},Object(j.a)({},r,n)))};return Object(o.jsxs)("div",{children:[Object(o.jsxs)("label",{htmlFor:"select-options",children:["Ordenar:",Object(o.jsx)("select",{name:"column",id:"select-options",onChange:u,"data-testid":"column-sort",children:b.map((function(e,t){return Object(o.jsx)("option",{children:e},t)}))})]}),Object(o.jsxs)("label",{htmlFor:"asc-opt",children:["Crecente",Object(o.jsx)("input",{type:"radio",id:"asc-opt",value:"ASC",name:"sort",onChange:u,"data-testid":"column-sort-input-asc"})]}),Object(o.jsxs)("label",{htmlFor:"desc-opt",children:["Decrescente",Object(o.jsx)("input",{type:"radio",id:"desc-opt",value:"DESC",name:"sort",onChange:u,"data-testid":"column-sort-input-desc"})]}),Object(o.jsx)("button",{"data-testid":"column-sort-button",type:"button",onClick:function(){return e(c)},children:"Clique aqui!"})]})},f=["population","orbital_period","diameter","rotation_period","surface_water"],O=["","maior que","menor que","igual a"];var p=function(){var e=Object(r.useContext)(s),t=e.handleChange,n=e.handleClick,c=e.filter,a=e.deleteClick,u=Object(r.useState)({column:"",comparison:"",value:""}),l=Object(i.a)(u,2),b=l[0],p=l[1],h=Object(r.useState)(f),x=Object(i.a)(h,2),v=x[0],C=x[1];Object(r.useEffect)((function(){var e=c.filterByNumerics;if(!e)return C(f);if(e.length>0){var t=e.map((function(e){return e.column}));return C(f.filter((function(e){return!t.includes(e)})))}}),[c]);var y=function(e){var t=e.target,n=t.name,r=t.value;p(Object(d.a)(Object(d.a)({},b),{},Object(j.a)({},n,r)))};return Object(o.jsxs)("form",{children:[Object(o.jsxs)("label",{htmlFor:"input-name",children:["Nome:",Object(o.jsx)("input",{id:"input-name","data-testid":"name-filter",onChange:t})]}),Object(o.jsxs)("label",{htmlFor:"column-filter",children:["Filtro:",Object(o.jsx)("select",{id:"column-filter",name:"column","data-testid":"column-filter",onChange:y,children:v.map((function(e,t){return Object(o.jsx)("option",{children:e},t)}))})]}),Object(o.jsxs)("label",{htmlFor:"comparison-filter",children:["Compara\xe7\xe3o:",Object(o.jsx)("select",{id:"comparison-filter",name:"comparison","data-testid":"comparison-filter",onChange:y,children:O.map((function(e,t){return Object(o.jsx)("option",{children:e},t)}))})]}),Object(o.jsxs)("label",{htmlFor:"value-filter",children:["Valor:",Object(o.jsx)("input",{type:"number",name:"value",id:"value-filter","data-testid":"value-filter",onChange:y})]}),Object(o.jsx)("button",{type:"button","data-testid":"button-filter",onClick:function(){return n(b)},children:"Adicionar Filtro"}),Object(o.jsx)(m,{}),Object(o.jsx)("div",{children:v.length<5?Object(o.jsx)("div",{children:c.filterByNumerics.map((function(e,t){var n=e.column,r=e.comparison,c=e.value;return Object(o.jsxs)("div",{"data-testid":"filter",children:["".concat(n," ").concat(r," ").concat(c),Object(o.jsx)("button",{type:"button",onClick:function(){return a(n)},children:"X"})]},t)}))}):""})]})},h=n(2);var x=function(){var e=Object(r.useState)(!0),t=Object(i.a)(e,2),n=t[0],c=t[1];return Object(r.useEffect)((function(){setTimeout((function(){return c(!1)}),55500)}),[]),n?Object(o.jsxs)("div",{className:"intro",children:[Object(o.jsx)("div",{className:"fade"}),Object(o.jsx)("section",{className:"content",children:Object(o.jsxs)("div",{className:"crawl",children:[Object(o.jsxs)("div",{children:[Object(o.jsx)("p",{className:"sub-title",children:"Projeto Trybe"}),Object(o.jsx)("h1",{className:"title",children:"Star Wars Planets Search"})]}),Object(o.jsxs)("div",{className:"text-content",children:[Object(o.jsx)("p",{children:"H\xe1 muito tempo atr\xe1s, em uma gal\xe1xia distante..."}),Object(o.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Distinctio exercitationem quis corrupti, commodi eius ut, quia reiciendis quisquam accusantium aliquam animi omnis eaque. Aspernatur itaque iure non vero unde harum."}),Object(o.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Distinctio optio architecto culpa molestiae officiis. Necessitatibus error doloribus voluptates doloremque iusto quaerat nostrum sed rerum, neque tempora veritatis provident impedit? Excepturi!"}),Object(o.jsx)("p",{children:"Que a for\xe7a esteja com voc\xea!"})]})]})})]}):Object(o.jsx)(h.a,{to:"/starwars-planets/main"})};var v=function(){return Object(o.jsxs)("div",{className:"flex flex-col",children:[Object(o.jsx)(p,{}),Object(o.jsx)(l,{})]})};var C=function(){return Object(o.jsxs)(h.d,{children:[Object(o.jsx)(h.b,{exact:!0,path:"/starwars-planets",component:x}),Object(o.jsx)(h.b,{path:"/starwars-planets/main",component:v})]})},y=n(8),N=n.n(y),g=n(12);var w=function(e){var t=e.film,n=Object(r.useState)(""),c=Object(i.a)(n,2),a=c[0],s=c[1],u=function(){var e=Object(g.a)(N.a.mark((function e(){var n,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.next=5,n.json();case 5:r=e.sent,s(r.title);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){u()})),Object(o.jsx)("div",{children:a})};var q=function(){return Object(o.jsx)("div",{children:Object(o.jsx)(C,{})})},S=(n(37),n(18));var k=function(e){var t=e.children,n=Object(r.useState)([]),c=Object(i.a)(n,2),a=c[0],u=c[1],l=Object(r.useState)({filterByName:"",filterByNumerics:[],order:{column:"name",sort:"ASC"}}),j=Object(i.a)(l,2),b=j[0],m=j[1];Object(r.useEffect)((function(){var e="https://swapi-trybe.herokuapp.com/api/planets/";function t(){return(t=Object(g.a)(N.a.mark((function t(){var n,r,c;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:return n=t.sent,t.next=5,n.json();case 5:r=t.sent,c=r.results,u(c);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]);var f={data:a,filter:b,handleChange:function(e){var t=e.target;m(Object(d.a)(Object(d.a)({},b),{},{filterByName:t.value}))},handleClick:function(e){m(Object(d.a)(Object(d.a)({},b),{},{filterByNumerics:[].concat(Object(S.a)(b.filterByNumerics),[e])}))},deleteClick:function(e){m(Object(d.a)(Object(d.a)({},b),{},{filterByNumerics:Object(S.a)(b.filterByNumerics.filter((function(t){return t.column!==e})))}))},submitOrder:function(e){m(Object(d.a)(Object(d.a)({},b),{},{order:e}))}};return Object(o.jsx)(s.Provider,{value:f,children:t})},B=n(15);a.a.render(Object(o.jsx)(k,{children:Object(o.jsx)(B.a,{children:Object(o.jsx)(q,{})})}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.1651cfd4.chunk.js.map