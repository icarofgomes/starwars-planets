{"version":3,"sources":["pages/Intro.jsx","context/PlanetsContext.js","components/Table.jsx","components/OrderForm.jsx","components/Filter.jsx","pages/Main.jsx","App.js","context/Provider.js","index.js"],"names":["Intro","className","class","PlanetsContext","createContext","headers","Table","useContext","data","filter","useState","planets","setPlanets","useEffect","filteredPlanets","name","filterByName","filterByNumerics","order","nameFilter","planet","includes","forEach","f","column","comparison","value","parseInt","sortValues","a","b","item1","item2","sort","filterPlanets","map","field","index","arrayOptions","OrderForm","submitOrder","localOrder","setLocalOrder","handleChange","target","htmlFor","id","onChange","opt","i","type","onClick","columnField","comparisonField","Filter","handleClick","deleteClick","localFilter","setLocalFilter","filters","setFilters","length","arrayOfFilters","v","updateFilter","Main","App","Provider","children","setData","setFilter","API","fetch","request","json","results","fetchData","context","state","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.023c9728.chunk.js","sourcesContent":["import React from 'react';\n\nfunction Intro() {\n  return (\n    <div className=\"intro\">\n      <div class=\"fade\"></div>\n      <section className=\"content\">\n        <div className=\"crawl\">\n          <div>\n            <p className=\"sub-title\">\n              Projeto Trybe\n            </p>\n            <h1 className=\"title\">\n              Star Wars Planets Search\n            </h1>\n          </div>\n          <div className=\"text-content\">\n            <p>Há muito tempo atrás, em uma galáxia distante...</p>\n            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Distinctio exercitationem quis corrupti, commodi eius ut, quia reiciendis quisquam accusantium aliquam animi omnis eaque. Aspernatur itaque iure non vero unde harum.</p>\n            <p>Lorem ipsum dolor sit amet consectetur, adipisicing elit. Distinctio optio architecto culpa molestiae officiis. Necessitatibus error doloribus voluptates doloremque iusto quaerat nostrum sed rerum, neque tempora veritatis provident impedit? Excepturi!</p>\n            <p>Que a força esteja com você!</p>\n          </div>\n        </div>\n      </section>\n    </div>\n  )\n}\n\nexport default Intro;\n","import { createContext } from 'react';\n\nconst PlanetsContext = createContext();\n\nexport default PlanetsContext;\n","import React, { useContext, useEffect, useState } from 'react';\nimport PlanetsContext from '../context/PlanetsContext';\n\nconst headers = ['name', 'climate', 'created', 'diameter', 'edited', 'films', 'gravity',\n  'orbital_period', 'population', 'rotation_period', 'surface_water',\n  'terrain', 'url'];\n\nconst filterPlanets = (data, filter) => {\n  const { filterByName: name, filterByNumerics, order } = filter;\n\n  let nameFilter = data.filter((planet) => planet.name.includes(name));\n\n  filterByNumerics.forEach((f) => {\n    const { column, comparison, value } = f;\n    nameFilter = nameFilter.filter((planet) => {\n      switch (comparison) {\n      case 'maior que':\n        return parseInt(planet[column], 10) > value;\n      case 'menor que':\n        return parseInt(planet[column], 10) < value;\n      case 'igual a':\n        return planet[column] === value;\n      default:\n        return '';\n      }\n    });\n  });\n\n  const sortValues = (a, b) => {\n    const { column } = order;\n    const ONE = 1;\n    const item1 = column === 'name' ? a[column] : parseInt(a[column], 10);\n    const item2 = column === 'name' ? b[column] : parseInt(b[column], 10);\n\n    if (item1 < item2) {\n      return -ONE;\n    }\n    if (item1 > item2) {\n      return ONE;\n    }\n    return 0;\n  };\n\n  nameFilter = nameFilter.sort((a, b) => {\n    const { sort } = order;\n    return sort === 'ASC' ? sortValues(a, b) : sortValues(b, a);\n  });\n\n  return nameFilter;\n};\n\nfunction Table() {\n  const { data, filter } = useContext(PlanetsContext);\n  const [planets, setPlanets] = useState([]);\n\n  useEffect(() => {\n    const filteredPlanets = filterPlanets(data, filter);\n    setPlanets(filteredPlanets);\n  }, [data, filter]);\n\n  return (\n    <div>\n      <table>\n        <thead>\n          <tr>\n            {headers.map((field, index) => <th key={ index }>{ field }</th>)}\n          </tr>\n        </thead>\n        <tbody>\n          { planets.map((planet) => (\n            <tr key={ planet.name }>\n              {\n                headers.map((field, index) => (\n                  field === 'name'\n                    ? <td key={ index } data-testid=\"planet-name\">{ planet[field] }</td>\n                    : <td key={ index }>{ planet[field] }</td>\n                ))\n              }\n            </tr>))}\n        </tbody>\n      </table>\n    </div>\n  );\n}\n\nexport default Table;\n","import React, { useState, useContext } from 'react';\nimport PlanetsContext from '../context/PlanetsContext';\n\nconst arrayOptions = ['name', 'population', 'orbital_period', 'diameter',\n  'rotation_period', 'surface_water'];\n\nfunction OrderForm() {\n  const { submitOrder } = useContext(PlanetsContext);\n  const [localOrder, setLocalOrder] = useState({\n    column: '',\n    sort: '',\n  });\n\n  const handleChange = ({ target: { value, name } }) => {\n    setLocalOrder({\n      ...localOrder,\n      [name]: value,\n    });\n  };\n\n  return (\n    <div>\n      <label htmlFor=\"select-options\">\n        Ordenar:\n        <select\n          name=\"column\"\n          id=\"select-options\"\n          onChange={ handleChange }\n          data-testid=\"column-sort\"\n        >\n          { arrayOptions.map((opt, i) => <option key={ i }>{ opt }</option>)}\n        </select>\n      </label>\n      <label htmlFor=\"asc-opt\">\n        Crecente\n        <input\n          type=\"radio\"\n          id=\"asc-opt\"\n          value=\"ASC\"\n          name=\"sort\"\n          onChange={ handleChange }\n          data-testid=\"column-sort-input-asc\"\n        />\n      </label>\n      <label htmlFor=\"desc-opt\">\n        Decrescente\n        <input\n          type=\"radio\"\n          id=\"desc-opt\"\n          value=\"DESC\"\n          name=\"sort\"\n          onChange={ handleChange }\n          data-testid=\"column-sort-input-desc\"\n        />\n      </label>\n      <button\n        data-testid=\"column-sort-button\"\n        type=\"button\"\n        onClick={ () => submitOrder(localOrder) }\n      >\n        Clique aqui!\n      </button>\n    </div>\n  );\n}\n\nexport default OrderForm;\n","import React, { useContext, useEffect, useState } from 'react';\nimport PlanetsContext from '../context/PlanetsContext';\nimport OrderForm from './OrderForm';\n\nconst columnField = ['population', 'orbital_period', 'diameter',\n  'rotation_period', 'surface_water'];\n\nconst comparisonField = ['', 'maior que', 'menor que', 'igual a'];\nconst FIVE = 5;\n\nfunction Filter() {\n  const { handleChange, handleClick, filter, deleteClick } = (\n    useContext(PlanetsContext)\n  );\n  const [localFilter, setLocalFilter] = useState({\n    column: '',\n    comparison: '',\n    value: '',\n  });\n  const [filters, setFilters] = useState(columnField);\n\n  useEffect(() => {\n    const { filterByNumerics } = filter;\n    if (!filterByNumerics) {\n      return setFilters(columnField);\n    }\n    if (filterByNumerics.length > 0) {\n      const arrayOfFilters = filterByNumerics.map((value) => value.column);\n      return setFilters(columnField.filter((v) => !arrayOfFilters.includes(v)));\n    }\n  }, [filter]);\n\n  const updateFilter = ({ target: { name, value } }) => {\n    setLocalFilter({\n      ...localFilter,\n      [name]: value,\n    });\n  };\n\n  const createFilterArea = () => {\n    if (filters.length < FIVE) {\n      return (\n        <div>\n          {\n            filter.filterByNumerics.map(({ column, comparison, value }, index) => (\n              <div key={ index } data-testid=\"filter\">\n                {\n                  `${column} ${comparison} ${value}`\n                }\n                <button\n                  type=\"button\"\n                  onClick={ () => deleteClick(column) }\n                >\n                  X\n                </button>\n              </div>\n            ))\n          }\n        </div>\n      );\n    }\n    return '';\n  };\n\n  return (\n    <form>\n      <label htmlFor=\"input-name\">\n        Nome:\n        <input\n          id=\"input-name\"\n          data-testid=\"name-filter\"\n          onChange={ handleChange }\n        />\n      </label>\n      <label htmlFor=\"column-filter\">\n        Filtro:\n        <select\n          id=\"column-filter\"\n          name=\"column\"\n          data-testid=\"column-filter\"\n          onChange={ updateFilter }\n        >\n          {\n            filters.map((field, i) => <option key={ i }>{ field }</option>)\n          }\n        </select>\n      </label>\n      <label htmlFor=\"comparison-filter\">\n        Comparação:\n        <select\n          id=\"comparison-filter\"\n          name=\"comparison\"\n          data-testid=\"comparison-filter\"\n          onChange={ updateFilter }\n        >\n          {\n            comparisonField.map((field, i) => <option key={ i }>{ field }</option>)\n          }\n        </select>\n      </label>\n      <label htmlFor=\"value-filter\">\n        Valor:\n        <input\n          type=\"number\"\n          name=\"value\"\n          id=\"value-filter\"\n          data-testid=\"value-filter\"\n          onChange={ updateFilter }\n        />\n      </label>\n      <button\n        type=\"button\"\n        data-testid=\"button-filter\"\n        onClick={ () => handleClick(localFilter) }\n      >\n        Adicionar Filtro\n      </button>\n      <OrderForm />\n      <div>\n        {createFilterArea()}\n      </div>\n    </form>\n  );\n}\n\nexport default Filter;\n","import React from 'react';\nimport { Table, Filter } from '../components';\n\nfunction Main() {\n  return (\n    <div>\n      <Filter />\n      <Table />\n    </div>\n  )\n}\n\nexport default Main;\n","import React from 'react';\nimport './App.css';\nimport { Intro, Main } from './pages';\n\nfunction App() {\n  return (\n    <div>\n      <Intro />\n      <Main />\n    </div>\n  );\n}\n\nexport default App;\n","import PropTypes from 'prop-types';\nimport React, { useState, useEffect } from 'react';\nimport PlanetsContext from './PlanetsContext';\n\nfunction Provider({ children }) {\n  const [data, setData] = useState([]);\n  const [filter, setFilter] = useState({\n    filterByName: '',\n    filterByNumerics: [],\n    order: {\n      column: 'name',\n      sort: 'ASC',\n    },\n  });\n\n  const handleChange = ({ target }) => {\n    setFilter({\n      ...filter,\n      filterByName: target.value,\n    });\n  };\n\n  const handleClick = (state) => {\n    setFilter({\n      ...filter,\n      filterByNumerics: [...filter.filterByNumerics, state],\n    });\n  };\n\n  const deleteClick = (column) => {\n    setFilter({\n      ...filter,\n      filterByNumerics: [\n        ...filter.filterByNumerics.filter((f) => f.column !== column),\n      ],\n    });\n  };\n\n  const submitOrder = (state) => {\n    setFilter({\n      ...filter,\n      order: state,\n    });\n  };\n\n  useEffect(() => {\n    const API = 'https://swapi-trybe.herokuapp.com/api/planets/';\n    async function fetchData() {\n      const request = await fetch(API);\n      const json = await request.json();\n      setData(json.results);\n    }\n    fetchData();\n  }, []);\n\n  const context = { data, filter, handleChange, handleClick, deleteClick, submitOrder };\n\n  return (\n    <PlanetsContext.Provider value={ context }>\n      { children }\n    </PlanetsContext.Provider>\n  );\n}\n\nProvider.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default Provider;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\nimport Provider from './context/Provider';\n\nReactDOM.render(\n  <Provider>\n    <App />\n  </Provider>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}